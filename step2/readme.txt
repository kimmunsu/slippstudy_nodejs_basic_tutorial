step1 에서 기본적인 웹서버를 작성하였다.
돌아가는 코드는 누구나 만들 수 있지만 프로그래머는 누구나 읽을 수 있는 코드를 작성해야하며,
그러기 위해서 우리는 늘 리팩토링한다. 리팩토링 해보자.
1. 서버기능을 하는 코드들을 server.js 로 빼내고 해당 파일에서도 서버를 실행하는 함수를 모듈화 시키고.
2. exports 라는 전역변수에 start 라는 프로퍼티에(역시 객체) 모듈화된 함수를 주입한다.
3. index.js 라는 main 파일에는 같은 위치에 있는 server.js 를 참조하고, 참조한 server.js의 start 함수를 호출하여 서버를 실행토록 한다.